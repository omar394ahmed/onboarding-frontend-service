<p class="employee-count">Employees Number: {{ employeeCount() }}</p>

<p-table
  [value]="employees()"
  [paginator]="true"
  [rows]="5"
  [responsiveLayout]="'scroll'"
  [loading]="loading()"
>
  <!-- Table Header -->
  <ng-template pTemplate="header">
    <tr>
      <th pSortableColumn="name">
        Name <p-sortIcon field="name"></p-sortIcon>
      </th>
      <th pSortableColumn="title">
        Title <p-sortIcon field="title"></p-sortIcon>
      </th>
      <th pSortableColumn="department">
        Department <p-sortIcon field="department"></p-sortIcon>
      </th>
      <th>Actions</th>
    </tr>
  </ng-template>

  <!-- Table Body -->
  <ng-template pTemplate="body" let-employee>
    <tr>
      <!-- Name Column -->
      <td>
        <ng-container *ngIf="!employee.isEditing; else editName">
          {{ employee.name }}
        </ng-container>
        <ng-template #editName>
          <input [(ngModel)]="employee.name" class="editable-input" />
        </ng-template>
      </td>

      <!-- Title Column -->
      <td>
        <ng-container *ngIf="!employee.isEditing; else editTitle">
          {{ employee.title }}
        </ng-container>
        <ng-template #editTitle>
          <input [(ngModel)]="employee.title" class="editable-input" />
        </ng-template>
      </td>

      <!-- Department Column -->
      <td>
        <ng-container *ngIf="!employee.isEditing; else editDepartment">
          {{ employee.department }}
        </ng-container>
        <ng-template #editDepartment>
          <input [(ngModel)]="employee.department" class="editable-input" />
        </ng-template>
      </td>

      <!-- Actions Column -->
      <td class="action-buttons">
        <button
          *ngIf="!employee.isEditing"
          pButton
          type="button"
          label="Edit"
          icon="pi pi-pencil"
          class="p-button-sm p-button-warning"
          (click)="employee.isEditing = true"
        ></button>

        <button
          *ngIf="employee.isEditing"
          pButton
          type="button"
          label="Save"
          icon="pi pi-check"
          class="p-button-sm p-button-success"
          (click)="employee.isEditing = false; update(employee)"
        ></button>
      </td>
    </tr>
  </ng-template>
</p-table>
